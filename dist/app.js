(()=>{"use strict";class e{setStorageItem(e,t){localStorage.setItem(e,JSON.stringify(t))}getStorageItem(e){const t=localStorage.getItem(e);return t?JSON.parse(t):null}setInitialStorage(e,t){localStorage.getItem(e)||localStorage.setItem(e,JSON.stringify(t))}}const t=new e;class i{constructor(){this.tasks=t.getStorageItem("tasks")||[],this.nextId=1}addTask(e){const i={id:this.nextId++,title:e.title,details:e.details,dueDate:e.dueDate,priorityLevel:e.priority,done:!1};this.tasks.push(i),t.setStorageItem("tasks",this.getTasks())}showTask(e,t){return e[t]}removeTask(e,i){const a=this.tasks.findIndex((e=>e.id==i));return e.findIndex((e=>e.id==i)),this.tasks.splice(a,1),t.setStorageItem("tasks",this.getTasks()),this.getTasks()}filterTask(e){const t=new Date,i=new Date;switch(i.setDate((new Date).getDate()+7),e){case"today":return this.tasks.filter((e=>e.dueDate==this.formatDate(t)));case"week":return this.tasks.filter((e=>e.dueDate>=this.formatDate(t)&&e.dueDate<=this.formatDate(i)));case"important":return this.tasks.filter((e=>1==e.priorityLevel));default:return this.getTasks()}}markCompleted(e){const i=this.tasks.findIndex((t=>t.id==e));return this.tasks[i].done=!this.tasks[i].done,t.setStorageItem("tasks",this.getTasks()),this.getTasks()}editTask(e){const t=this.tasks.findIndex((t=>t.id==e));return this.tasks[t]}updateTask(e,i){const a=this.tasks.findIndex((t=>t.id==e));return this.tasks[a].title=i.title,this.tasks[a].details=i.details,this.tasks[a].dueDate=i.dueDate,this.tasks[a].priorityLevel=i.priority,t.setStorageItem("tasks",this.getTasks()),this.getTasks()}formatDate(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}getTasks(){return this.tasks}setTasks(){this.tasks=t.getStorageItem("tasks")}}const a=new e;class s{constructor(e){this.name=e,this.projects=a.getStorageItem("projects")||[],this.nextId=1}addProject(e){const t={id:this.nextId++,name:e.projectName,tasks:[]};this.projects.push(t),a.setStorageItem("projects",this.getProjects())}taskToProject(e,t){const i=this.projects.findIndex((t=>t.id==e));return t.done=!1,t.id=this.nextId++,this.projects[i].tasks.push(t),a.setStorageItem("projects",this.getProjects()),this.projects[i]}showProject(e){const t=this.projects.findIndex((t=>t.id==e));return this.projects[t]}showTaskProject(e,t){const i=this.projects.findIndex((t=>t.id==e)),a=this.projects[i].tasks.findIndex((e=>e.id==t));return this.projects[i].tasks[a]}editTaskProject(e,t,i){const s=this.projects.findIndex((t=>t.id==e)),n=this.projects[s].tasks.findIndex((e=>e.id==t));return this.projects[s].tasks[n].title=i.title,this.projects[s].tasks[n].details=i.details,this.projects[s].tasks[n].dueDate=i.dueDate,this.projects[s].tasks[n].priorityLevel=i.priority,a.setStorageItem("projects",this.getProjects()),this.projects[s]}markCompleted(e,t){const i=this.projects.findIndex((t=>t.id==e)),s=this.projects[i].tasks.findIndex((e=>e.id==t));return this.projects[i].tasks[s].done=!this.projects[i].tasks[s].done,a.setStorageItem("projects",this.getProjects()),this.projects[i]}deleteTaskProject(e,t){const i=this.projects.findIndex((t=>t.id==e)),s=this.projects[i].tasks.findIndex((e=>e.id==t));return this.projects[i].tasks.splice(s,1),a.setStorageItem("projects",this.getProjects()),this.projects[i]}getProjects(){return this.projects}setProjects(){this.projects=a.getStorageItem("projects")}}const n=[{id:1e3,name:"JavaScript Calculator",tasks:[{id:11,title:"Design UI",details:"Create a user-friendly interface for the calculator.",dueDate:"2023-09-10",priorityLevel:3,done:!1},{id:21,title:"Implement Basic Functions",details:"Add functionality for addition, subtraction, multiplication, and division.",dueDate:"2023-09-15",priorityLevel:2,done:!1},{id:31,title:"Advanced Features",details:"Incorporate scientific functions like square root and trigonometric calculations.",dueDate:"2023-09-30",priorityLevel:1,done:!0},{id:41,title:"Testing and Bug Fixing",details:"Thoroughly test the calculator and fix any bugs or issues.",dueDate:"2023-10-05",priorityLevel:2,done:!0}]},{id:2e3,name:"Web Scraper",tasks:[{id:110,title:"Research and Planning",details:"Identify target websites and plan the data scraping process.",dueDate:"2023-09-08",priorityLevel:2,done:!1},{id:210,title:"Scraping Implementation",details:"Write Python code to scrape data from selected websites.",dueDate:"2023-09-20",priorityLevel:3,done:!1},{id:310,title:"Data Parsing and Storage",details:"Parse the scraped data and store it in a structured format (e.g., CSV or database).",dueDate:"2023-09-30",priorityLevel:2,done:!0},{id:410,title:"Automation and Scheduling",details:"Implement automation to regularly update the data and schedule scraping tasks.",dueDate:"2023-10-10",priorityLevel:1,done:!0}]},{id:3e3,name:"React To-Do List",tasks:[{id:111,title:"Component Setup",details:"Create React components for the to-do list, input form, and task items.",dueDate:"2023-09-12",priorityLevel:2,done:!1},{id:211,title:"State Management",details:"Implement state management to add, delete, and update tasks.",dueDate:"2023-09-18",priorityLevel:3,done:!1},{id:311,title:"User Authentication",details:"Add user authentication for personalized to-do lists.",dueDate:"2023-09-28",priorityLevel:2,done:!0},{id:411,title:"Styling and Testing",details:"Apply CSS styles and perform testing to ensure functionality and usability.",dueDate:"2023-10-05",priorityLevel:3,done:!0}]}],d=[{id:1e3,title:"Read a Book",details:"Read the latest novel you purchased.",dueDate:"2023-09-10",priorityLevel:3,done:!0},{id:2e3,title:"Walk the Dog",details:"Take your dog for a walk in the park for at least 30 minutes.",dueDate:"2023-09-05",priorityLevel:1,done:!0},{id:3e3,title:"Grocery Shopping",details:"Make a list and buy groceries for the week.",dueDate:"2023-09-07",priorityLevel:2,done:!0},{id:4e3,title:"Write a Journal Entry",details:"Reflect on your day and write a journal entry about your thoughts and experiences.",dueDate:"2023-09-04",priorityLevel:3,done:!0},{id:5e3,title:"Exercise Session",details:"Complete a 30-minute workout session to stay healthy and fit.",dueDate:"2023-09-06",priorityLevel:2,done:!0},{id:6e3,title:"Work on a Coding Project",details:"Spend 2 hours working on your personal coding project or learning a new programming language.",dueDate:"2023-09-08",priorityLevel:1,done:!1},{id:7e3,title:"Prepare for a Meeting",details:"Review meeting agenda and gather necessary documents for tomorrow's meeting.",dueDate:"2023-09-05",priorityLevel:2,done:!1},{id:8e3,title:"Call a Friend",details:"Catch up with a friend or family member over the phone for at least 20 minutes.",dueDate:"2023-09-10",priorityLevel:3,done:!1},{id:9e3,title:"Home Renovation",details:"Plan and start renovations for the living room.",dueDate:"2023-09-15",priorityLevel:1,done:!1},{id:1e4,title:"Learn a New Language",details:"Begin learning a new language for personal or professional growth.",dueDate:"2023-09-20",priorityLevel:2,done:!1},{id:11e3,title:"Write a Blog Post",details:"Create an informative blog post on a topic of your choice.",dueDate:"2023-09-12",priorityLevel:3,done:!1},{id:12e3,title:"Volunteer at a Local Shelter",details:"Spend a few hours volunteering at an animal shelter or food bank.",dueDate:"2023-09-08",priorityLevel:2,done:!1},{id:13e3,title:"Hiking Adventure",details:"Plan a hiking trip to explore a new trail and enjoy the outdoors.",dueDate:"2023-09-18",priorityLevel:1,done:!1},{id:14e3,title:"Financial Review",details:"Review your monthly budget and financial goals.",dueDate:"2023-09-11",priorityLevel:3,done:!1},{id:15e3,title:"Cook a New Recipe",details:"Try cooking a new and challenging recipe for dinner.",dueDate:"2023-09-09",priorityLevel:2,done:!1},{id:16e3,title:"Photography Session",details:"Spend an afternoon taking photographs in your favorite location.",dueDate:"2023-09-14",priorityLevel:1,done:!1},{id:17e3,title:"Plan a Road Trip",details:"Plan a road trip to visit a nearby city or tourist destination.",dueDate:"2023-09-25",priorityLevel:2,done:!1}],o=(()=>{const t=document.getElementById("btn-add"),a=document.getElementById("btn-project"),o=document.querySelector(".btn-close"),r=document.getElementById("btnProj-close"),l=document.getElementById("drawer-toggler"),c=document.querySelector(".btn-cancel "),u=document.querySelector(".btnProj-cancel"),m=new e,p=document.getElementById("formDialog"),g=document.getElementById("projectDialog"),v=document.getElementById("detailsDialog"),h=document.getElementById("editDialog"),y=document.getElementById("projecEditDialog"),k=document.getElementById("task-content"),f=document.querySelector(".projects-container"),j=document.getElementById("details-info"),L=document.querySelector(".sidebar"),E=document.getElementById("task-input"),I=document.getElementById("edit-input"),D=document.getElementById("projectEdit-input"),S=document.querySelectorAll(".side-items"),b=new i,B=new s;let T,w,x="";function P(e){let t="";k.innerHTML="",e.forEach(((e,i)=>{t+=`<div class="task prio-${e.priorityLevel} ${1==e.done?"completed":""}">\n            <input type="checkbox" class="task-checkbox" data-index="${e.id}"} ${1==e.done?"checked":""}>\n            <p class="task-name ${1==e.done?"done":""}">${e.title}</p>\n\n            <p class="task-details task-detail" data-index="${i}">Details</p>\n            <i class="fa-regular fa-pen-to-square task-item__controls task-edit button-items" data-id="${e.id}"></i>\n            <i class="fa-solid fa-trash-can task-item__controls task-delete button-items" data-id="${e.id}"></i>\n        </div>`})),k.innerHTML=t;const i=document.querySelectorAll(".task-detail"),a=document.querySelectorAll(".task-delete"),s=document.querySelectorAll(".task-edit"),n=document.querySelectorAll(".task-checkbox");i.forEach((t=>{t.addEventListener("click",(t=>{const i=t.target.getAttribute("data-index");!function(e,t){j.innerHTML="";const i=document.createElement("div");let a=b.showTask(e,t);i.innerHTML=`<div class="flex project-header">\n                <h3>${a.title}</h3>\n                <div>${a.dueDate}</div>\n            </div>\n            <div>\n                ${a.details}\n            </div>\n        `,j.append(i),j.addEventListener("click",(()=>{v.classList.remove("active")}))}(e,i),v.classList.add("active")}))})),a.forEach((t=>{t.addEventListener("click",(t=>{const i=t.target.getAttribute("data-id");P(b.removeTask(e,i))}))})),s.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id"),i=b.editTask(t);T=i.id,document.getElementById("edit-title").value=i.title,document.getElementById("edit-details").value=i.details,document.getElementById("edit-dueDate").value=i.dueDate,document.getElementById("edit-priority").value=i.priorityLevel,h.classList.add("active")}))})),n.forEach((e=>{e.style.cursor="pointer",e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-index");P(b.markCompleted(t))}))})),c.addEventListener("click",(()=>{h.classList.remove("active")}))}function A(e){let t="";f.innerHTML="",e.forEach((e=>{const i=e.name.length>17?e.name.substring(0,17)+"...":e.name;t+=`<div class="flex project-item" data-id="${e.id}">\n            <i class="fa-regular fa-folder"></i>\n            <p>${i}</p>\n        </div>`})),f.innerHTML=t;const i=document.querySelectorAll(".project-item");i.forEach((e=>{e.addEventListener("click",(t=>{S.forEach((e=>{e.classList.remove("active"),window.innerWidth<=800&&L.classList.remove("active")})),i.forEach((e=>{e.classList.remove("active"),window.innerWidth<=800&&L.classList.remove("active")}));const a=t.currentTarget.getAttribute("data-id");let s=B.showProject(a);x=s.id,e.classList.toggle("active"),$(s)}))}))}function $(e){let t=e.name,i=e.tasks;k.innerHTML="";let a=`<div class="project">\n            <div class="flex project-header">\n                <div class="flex">\n                    <i class="fa-regular fa-folder"></i>\n                    <h2>${t}</h2>\n                </div>\n                <div class="flex">\n                    <button class="project-task btn-create button-items" id="project-task"> Add Task</button>\n                    <button class="project-task btn-trash button-items" id="project-task"> <i class="fa-regular fa-trash-can"></i></button>\n                </div>\n            </div>\n        </div>`;k.innerHTML=a,i.forEach(((e,t)=>{const i=document.createElement("div");i.innerHTML=`<div class="task prio-${e.priorityLevel} ${1==e.done?"completed":""}">\n                <input type="checkbox" class="project-checkbox" data-index="${e.id}"} ${1==e.done?"checked":""}>\n                <p class="task-name">${e.title}</p>\n                <p class="task-details project-detail" data-id="${e.id}">Details</p>\n                <i class="fa-regular fa-pen-to-square task-item__controls project-edit button-items" data-id="${e.id}"></i>\n                <i class="fa-solid fa-trash-can task-item__controls project-delete button-items" data-id="${e.id}"></i>\n            </div>`,k.appendChild(i)}));const s=document.getElementById("project-task"),n=document.getElementById("projectDialog");s.addEventListener("click",(()=>{n.classList.toggle("active")}));const d=document.querySelectorAll(".project-detail"),o=document.querySelectorAll(".project-delete"),r=document.querySelectorAll(".project-edit"),l=document.querySelectorAll(".project-checkbox");d.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id");let i=B.showTaskProject(x,t);j.innerHTML="";const a=document.createElement("div");a.innerHTML=`<div class="flex project-header">\n                        <h3>${i.title}</h3>\n                        <div>${i.dueDate}</div>\n                    </div>\n                    <div>\n                        ${i.details}\n                    </div>\n                `,j.append(a),v.classList.add("active"),j.addEventListener("click",(()=>{v.classList.remove("active")}))}))})),o.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id");$(B.deleteTaskProject(x,t))}))})),r.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-id");let i=B.showTaskProject(x,t);w=i.id,document.getElementById("projectEdit-title").value=i.title,document.getElementById("projectEdit-details").value=i.details,document.getElementById("projectEdit-dueDate").value=i.dueDate,document.getElementById("projectEdit-priority").value=i.priorityLevel,y.classList.add("active")}))})),u.addEventListener("click",(()=>{y.classList.remove("active")})),l.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-index");$(B.markCompleted(x,t))}))}))}return E.addEventListener("submit",(e=>{e.preventDefault();const t={title:document.getElementById("proj-title").value,details:document.getElementById("proj-details").value,dueDate:document.getElementById("proj-dueDate").value,priorityLevel:Number(document.getElementById("proj-priority").value)};$(B.taskToProject(x,t)),document.getElementById("proj-title").value="",document.getElementById("proj-details").value="",document.getElementById("proj-dueDate").value="",document.getElementById("proj-priority").value=1,g.classList.remove("active")})),S.forEach((e=>{e.addEventListener("click",(t=>{document.querySelectorAll(".project-item").forEach((e=>{e.classList.remove("active"),window.innerWidth<=800&&L.classList.remove("active")})),S.forEach((e=>{e.classList.remove("active"),window.innerWidth<=800&&L.classList.remove("active")}));const i=t.currentTarget.getAttribute("data-title");let a=b.filterTask(i);e.classList.toggle("active"),P(a)}))})),t.addEventListener("click",(()=>{p.classList.toggle("active")})),o.addEventListener("click",(()=>{p.classList.toggle("active")})),r.addEventListener("click",(()=>{g.classList.toggle("active")})),a.addEventListener("click",(()=>{if(!a.classList.contains("active")){const e=document.createElement("div");e.classList.add("flex");let t="";t+='<form autocomplete="off" class="flex" id="form-project">\n                <input type="text" name="" id="project_name" placeholder="New Project" required>\n                <button type="submit" class="btn-create button-items">Add</button>\n            </form>',e.innerHTML=t,f.prepend(e),document.getElementById("project_name").focus(),a.classList.add("active"),document.getElementById("form-project").addEventListener("submit",(e=>{e.preventDefault();const t={projectName:document.getElementById("project_name").value};B.addProject(t),a.classList.remove("active"),A(B.getProjects())}))}})),p.addEventListener("submit",(e=>{e.preventDefault();const t={title:document.getElementById("title").value,details:document.getElementById("details").value,dueDate:document.getElementById("dueDate").value,priority:document.getElementById("priority").value};b.addTask(t),document.getElementById("title").value="",document.getElementById("details").value="",document.getElementById("dueDate").value="",document.getElementById("priority").value="1",P(b.getTasks()),p.classList.toggle("active")})),I.addEventListener("submit",(e=>{e.preventDefault();const t={title:document.getElementById("edit-title").value,details:document.getElementById("edit-details").value,dueDate:document.getElementById("edit-dueDate").value,priority:document.getElementById("edit-priority").value};P(b.updateTask(T,t)),h.classList.remove("active")})),D.addEventListener("submit",(e=>{e.preventDefault();const t={title:document.getElementById("projectEdit-title").value,details:document.getElementById("projectEdit-details").value,dueDate:document.getElementById("projectEdit-dueDate").value,priority:document.getElementById("projectEdit-priority").value};$(B.editTaskProject(x,w,t)),y.classList.remove("active")})),l.addEventListener("click",(()=>{L.classList.toggle("active")})),{initLocalStorage:function(){m.setInitialStorage("tasks",d),m.setInitialStorage("projects",n),b.setTasks(),B.setProjects(),P(b.getTasks()),A(B.getProjects())}}})();document.addEventListener("DOMContentLoaded",(()=>{o.initLocalStorage()}))})();